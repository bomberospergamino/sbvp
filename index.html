<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agenda - Cuartel</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="brand-mark" aria-hidden="true">BV</div>

        <div class="brand-text">
          <h1>AGENDA</h1>
          <p>Interna del cuartel</p>
        </div>
      </div>
    </div>

    <div class="divider-double" aria-hidden="true"></div>
  </header>

  <main class="app">
    <nav class="sections" aria-label="Secciones de la agenda">
      <button class="section-btn active" data-filter="ALL" type="button">Todas</button>
      <button class="section-btn" data-filter="FAV" type="button">Favoritos</button>

      <button class="section-btn" data-filter="Servicios de apoyo" type="button">Servicios de apoyo</button>
      <button class="section-btn" data-filter="Delegados" type="button">Delegados</button>
      <button class="section-btn" data-filter="Destacamentos" type="button">Destacamentos</button>
      <button class="section-btn" data-filter="Seguridad" type="button">Seguridad</button>
      <button class="section-btn" data-filter="Comisi√≥n Directiva" type="button">Comisi√≥n Directiva</button>
      <button class="section-btn" data-filter="Autos" type="button">Autos</button>

      <!-- NUEVO -->
      <button id="openAdd" class="section-btn section-btn-add" type="button">+ Agregar contacto</button>
    </nav>

    <section class="search-wrap" aria-label="Buscar contacto">
      <div class="search-shell">
        <span class="search-icon" aria-hidden="true">üîé</span>
        <input id="search" class="search" type="search"
               placeholder="Buscar por nombre, categor√≠a o tel√©fono‚Ä¶"
               autocomplete="off" />
        <button id="clearSearch" class="clear-btn" type="button" aria-label="Borrar b√∫squeda">‚úï</button>
      </div>

      <div class="hint">
        Toque <strong>Llamar</strong> para abrir el marcador. Use ‚≠ê para guardar favoritos.
        Para sumar un contacto nuevo, use <strong>+ Agregar contacto</strong> (se env√≠a solicitud por mail).
      </div>
    </section>

    <section class="status-row" aria-live="polite">
      <div id="status" class="status"></div>
      <div id="toast" class="toast" hidden></div>
    </section>

    <section class="content">
      <div id="cards" class="cards"></div>

      <div id="empty" class="empty" hidden>
        <p>No hay contactos para mostrar con este filtro / b√∫squeda.</p>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <small>Agenda interna ‚Äî Uso institucional</small>
  </footer>

  <!-- MODAL: Agregar contacto (trampa -> mailto) -->
  <div id="modal" class="modal" hidden aria-hidden="true">
    <div class="modal-backdrop" data-close="1"></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-head">
        <h2 id="modalTitle">Solicitar alta de contacto</h2>
        <button id="closeModal" class="icon-btn" type="button" aria-label="Cerrar">‚úï</button>
      </div>

      <p class="modal-sub">
        Esta opci√≥n <strong>no agrega el contacto autom√°ticamente</strong>.
        Genera un email a <strong>mejoracontinua.sbvp@gmail.com</strong> con los datos para carga manual.
      </p>

      <form id="addForm" class="form">
        <!-- Honeypot anti-bots (trampa real, invisible) -->
        <div class="hp" aria-hidden="true">
          <label>Dejar vac√≠o</label>
          <input id="website" type="text" autocomplete="off" />
        </div>

        <label class="field">
          <span>Secci√≥n</span>
          <select id="fSection" required>
            <option value="" selected disabled>Seleccionar‚Ä¶</option>
            <option>Servicios de apoyo</option>
            <option>Delegados</option>
            <option>Destacamentos</option>
            <option>Seguridad</option>
            <option>Comisi√≥n Directiva</option>
            <option>Autos</option>
            <option>Otro</option>
          </select>
        </label>

        <label class="field">
          <span>Categor√≠a / Rol</span>
          <input id="fRole" type="text" placeholder="Ej: Bombero, Guardia, Tesorer√≠a‚Ä¶" required />
        </label>

        <label class="field">
          <span>Nombre y apellido</span>
          <input id="fName" type="text" placeholder="Ej: Irina Bottini" required />
        </label>

        <label class="field">
          <span>Tel√©fono</span>
          <input id="fPhone" type="tel" placeholder="Ej: 2477-232120" required />
          <small class="help">Sugerencia: cargalo como figura en el cuartel (con gui√≥n si lo usan as√≠).</small>
        </label>

        <label class="field">
          <span>Observaciones (opcional)</span>
          <textarea id="fNotes" rows="3" placeholder="Ej: Horario, reemplazo, interno, etc."></textarea>
        </label>

        <div class="form-actions">
          <button class="btn" type="button" id="cancelAdd">Cancelar</button>
          <button class="btn btn-primary" type="submit">Enviar solicitud por mail</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
